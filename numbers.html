<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Go Fragments: Numbers</title>
  <link type="text/css" rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="favicon.ico" />
  <script type="text/javascript"
  src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js">
  </script>
  <script type="text/javascript">window.jQuery || document.write(unescape("%3Cscript src='jquery.js' type='text/javascript'%3E%3C/script%3E"));</script>
  <script type="text/javascript" src="godocs.js"></script>
</head>

<body>

<div id="page" class="wide">
<div class="container">
<h1>
Go Fragments: Numbers
<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="inline" data-width="300"></div>
</h1>

<a href="/">Main ToC</a> - Main table of contents.
<div id="nav"></div>

<h2 id="numbers">Numbers</h2>
<p>
Go's numeric types are:
</p>

<pre>
Signed Integers         Unsigned Integers
===============         =================
int8                    uint8
int16                   uint16
int32 or int            uint32 or uint
int64                   uint64

Floating-point
==============
float32
float64

Complex Numbers
===============
complex64
complex128
</pre>


<h3 id="str_num">Parsing a Number from a String</h3>
<p>
The <code><a href="http://golang.org/pkg/fmt/">fmt</a></code> package contains scanning
functions for parsing formatted text and capturing numerical values.  The Scan, Scanf,
and Scanln functions read from os.Stdin while the Fscan, Fscanf, and Fscanln functions
read from an io.Reader.  The Sscan, Sscanf, and Sscanln functions read from a string
as demonstrated in the below fragment.
</p>

<pre>
package main

import "fmt"

func main() {
    var (
        i int
        f float32
        c complex64
    )
    n, err := fmt.Sscanf("5 is an int, 3.209 is a float32, 4-3i is a complex number",
        "%d is an int, %f is a float32, %f is a complex number", &i, &f, &c)

    if err != nil {
        fmt.Println("Conversion error:", err)
    }
    fmt.Printf("Converted %d items: %d, %f, %f\n", n, i, f, c)
}
---------------------------------------------------------------------------
Converted 3 items: 5, 3.209000, (4.000000-3.000000i)
</pre>


<h3 id="round_num">Rounding Floating-Point Numbers</h3>
<p>
Rounding or decreasing the precision of a floating-point number can be done with the
formatting options in the <code><a href="http://golang.org/pkg/fmt/">fmt</a></code>
package.  The fragment below shows how
</p>
<p>
Depending on your needs, the floating-point value can be cast to an integer or 
the <code><a href="http://golang.org/pkg/math/">math</a></code> package contains
floor/ceiling functions to also convert floating-point numbers to integers.
</p>

<pre>
package main

import (
    "fmt"
    "math"
)

func main() {
    almostPi := 355.0 / 113.0

    fmt.Printf("1. %g (floating-point)\n", almostPi)
    fmt.Printf("2. %.5g (floating-point)\n", almostPi)
    fmt.Printf("3. %.5f (floating-point)\n", almostPi)

    roundedStr := fmt.Sprintf("%.2f", almostPi)
    fmt.Printf("4. %s (string)\n", roundedStr)

    fmt.Printf("5. %d (int)\n", int(almostPi))
    fmt.Printf("6. %d (int)\n", int(math.Floor(almostPi)))
    fmt.Printf("7. %d (int)\n", int(math.Ceil(almostPi)))
}
---------------------------------------------------------------------------
1. 3.1415929203539825 (floating-point)
2. 3.1416 (floating-point)
3. 3.14159 (floating-point)
4. 3.14 (string)
5. 3 (int)
6. 3 (int)
7. 4 (int)
</pre>


<h3 id="comp_num">Comparing Floating-Point Numbers</h3>
<p>
http://en.wikipedia.org/wiki/IEEE_754
http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm
</p>

<pre>
package main

import "fmt"

func main() {
    zero := 0.1 + 0.1 + 0.1 - 0.3
    fmt.Printf("%f\n", zero)
    fmt.Printf("%.1f\n", zero)
    
    fmt.Printf("%v, %.2f, %.30g\n", 1./8., 1./8., 1./8.)
    fmt.Printf("%v, %.2f, %.30g\n", 29./40., 29./40., 29./40.)
    fmt.Printf("%v, %.2f, %.30g\n", 29./40, 29./40, 29./40)
}
---------------------------------------------------------------------------
</pre>


<h3 id="rand_num">Generating Pseudo-Random Numbers</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="logs_num">Taking Logarithms</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="trig_num">Trigonometry in Degrees and Radians</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="matrix_num">Multiplying Matrices</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="complex_num">Complex Numbers</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="conv_num">Converting Between Binary, Octal, Hexidecimal, and Decimal</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="commas_num">Adding Commas to Numbers</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>


<h3 id="checksum_num">Checksums</h3>
<p>
First
</p>

<pre>
package main

import "fmt"

func main() {
}
---------------------------------------------------------------------------
</pre>



<div id="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br /><u>Go Fragments</u> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://plus.google.com/113761475390420605778" property="cc:attributionName" rel="cc:attributionURL">Eric Johnson</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
<br />
Copyright &copy; 2012
<a href="https://plus.google.com/113761475390420605778">Eric Johnson</a>,
&lt;erjohnso AT coding-zone DOT com&gt;
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
</html>
